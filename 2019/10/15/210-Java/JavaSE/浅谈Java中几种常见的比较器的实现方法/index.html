<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <title>静言思之</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/lib/github-markdown-css/github-markdown.css">
</head>
<body>
<div class="container">
<header class="header">
    <div class="blog-title">
        <a href="/" class="logo">静言思之</a>
    </div>
    <nav class="navbar">
        <ul class="menu">
            
                <li class="menu-item">
                    <a href="/" class="menu-item-link">首页</a>
                </li>
            
                <li class="menu-item">
                    <a href="/archives" class="menu-item-link">归档</a>
                </li>
            
                <li class="menu-item">
                    <a href="https://github.com/ahonn" target="_blank" rel="noopener" class="menu-item-link">交友</a>
                </li>
            
        </ul>
    </nav>
</header>
<main class="main">
    <article class="post">
    <div class="post-title">
        <h2 class="title">【转载】Java中比较器的实现方法</h2>
    </div>
    <div class="post-meta">
        <span class="post-time">2019-10-15</span>
    </div>
    <div class="markdown-body">
        <h2 id="比较器的使用场景"><a href="#比较器的使用场景" class="headerlink" title="比较器的使用场景"></a>比较器的使用场景</h2><ul>
<li>判断对象集合中是否包含某对象</li>
<li>排序对象集合</li>
</ul>
<p>当然可以直接<strong>通过“==”来判断</strong>两个对象的地址是否相同，地址相同那么对象肯定就相同了。但在实际情况中，通常根据<strong>对象的属性</strong>进行比较</p>
<p>从最新的JDK8来看，有三种实现对象比较的方法：</p>
<ol>
<li><p>复写Object类的<code>equals()</code>方法</p>
</li>
<li><p>继承Comparable接口，实现<code>compareTo()</code>方法</p>
</li>
<li><p>定义一个对象比较器，继承<code>Comparator</code>接口，实现<code>compare()</code>方法</p>
</li>
</ol>
<h2 id="复写equals-方法"><a href="#复写equals-方法" class="headerlink" title="复写equals()方法"></a>复写<code>equals()</code>方法</h2><p>复写 equals() 方法， 一般用于自己实现对象数组排序的情况，而对于要使用java内置的排序算法时，使用后面两种方式都是可行的。</p>
<blockquote>
<p><em>ps：复写 <code>equals()</code>方法怎么实现对象数组排序啊？ <code>equals()</code>只能实现比较，不能排序吧。</em></p>
</blockquote>
<h2 id="实现Comparable接口"><a href="#实现Comparable接口" class="headerlink" title="实现Comparable接口"></a>实现<code>Comparable</code>接口</h2><p>实现 <code>compareTo()</code> 方法</p>
<pre><code class="java">public class Employee implements Comparable&lt;Employee&gt;{
    private Integer id;
    private String name;
    private Integer age;
    private Double salary;

    public Employee() {
    }

    public Employee(Integer id, String name, Integer age, Double salary) {
        this.id = id;
        this.name = name;
        this.age = age;
        this.salary = salary;
    }

    @Override
    public String toString() {
        return &quot;Employee{&quot; +
                &quot;id=&quot; + id +
                &quot;, name=&#39;&quot; + name + &#39;\&#39;&#39; +
                &quot;, age=&quot; + age +
                &quot;, salary=&quot; + salary +
                &#39;}&#39;;
    }

    @Override
    public int compareTo(Employee o) {
        if (this.salary &gt; o.salary) {
            // 由高到底排列
            return -1;
        } else if(this.salary &lt; o.salary) {
            return 1;
        } else {
            if (this.age &gt; o.age) {
                // 由低到高排列
                return 1;
            } else if(this.age &lt; o.age) {
                return -1;
            } else {
                return 0;
            }
        }
    }
    // getter 和 setter

    public static void main(String[] args) {
        Employee[] emps = {
                new Employee(5, &quot;田七&quot;, 20, 5000D),
                new Employee(4, &quot;赵六&quot;, 46, 18000D),
                new Employee(3, &quot;王五&quot;, 35, 15000D),
                new Employee(1, &quot;张三&quot;, 24, 5000D),
                new Employee(2, &quot;李四&quot;, 36, 15000D)
        };
        java.util.Arrays.sort(emps);
        for(Employee e : emps) {
            System.out.println(e);
        }
    }
}</code></pre>
<p>类<code>Employee</code>实现了<code>Comparable</code>接口的<code>compareTo()</code>方法，将员工先按照薪资salary从高到底排列，薪资相同时，按照年龄age从低到高排列。</p>
<p>输出结果：</p>
<pre><code>Employee{id=4, name=&#39;赵六&#39;, age=46, salary=18000.0}
Employee{id=3, name=&#39;王五&#39;, age=35, salary=15000.0}
Employee{id=2, name=&#39;李四&#39;, age=36, salary=15000.0}
Employee{id=5, name=&#39;田七&#39;, age=20, salary=5000.0}
Employee{id=1, name=&#39;张三&#39;, age=24, salary=5000.0}</code></pre><h2 id="比较器Comparator对象"><a href="#比较器Comparator对象" class="headerlink" title="比较器Comparator对象"></a>比较器Comparator对象</h2><p>定义一个对象比较器类，继承<code>Comparator</code>接口，实现<code>compare()</code>方法</p>
<p>一般我们使用以上两种方法就能够满足实际的开发问题。但是当出现以下情况时，就需要用到Comparator接口：</p>
<blockquote>
<p>要在已经开发好的代码基础上，完善对象的比较功能，又不想更改之前的代码，这种情况下，从JDK1.8之后出现了<code>Comparator</code>接口，是对这种情况的一个弥补。</p>
</blockquote>
<pre><code class="java">public class Student {
    private Integer id;
    private String name;
    private Double score;

    public Student() {
    }

    public Student(Integer id, String name, Double score) {
        this.id = id;
        this.name = name;
        this.score = score;
    }

    @Override
    public String toString() {
        return &quot;Employee{&quot; +
                &quot;id=&quot; + id +
                &quot;, name=&#39;&quot; + name + &#39;\&#39;&#39; +
                &quot;, score=&quot; + score +
                &#39;}&#39;;
    }

    // getter 和 setter

    public static void main(String[] args) {
        Student[] sts = new Student[]{
                new Student(1, &quot;小戴&quot;,60D),
                new Student(3,&quot;小王&quot;,90D),
                new Student(2,&quot;老王&quot;,80D),
                new Student(4, &quot;小萱&quot;,95D)
        };

        Comparator&lt;Student&gt; studentComparator = new Comparator&lt;Student&gt;() {
            @Override
            public int compare(Student o1,Student o2) {
                if(o1.getScore() &gt; o2.getScore()){
                    // 由小到大排列
                    return 1;
                }else if(o1.getScore() &lt; o2.getScore()){
                    return -1;
                }else{
                    return 0;
                }
            }
        };
        java.util.Arrays.sort(sts, studentComparator);

        for(Student s : sts) {
            System.out.println(s);
        }
    }
}
</code></pre>

    </div>
</article>
</main>
</div>
</body>
</html>